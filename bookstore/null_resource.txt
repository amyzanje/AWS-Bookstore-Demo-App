resource "null_resource" "commit_changes" {
  triggers = {
    data_file_content = local_file.data_file.content
  }

  provisioner "local-exec" {
    command = <<-EOT
      git clone ${aws_codecommit_repository.example_repo.clone_url_http}
      cd example-repo
      cp ../${local_file.data_file.filename} .
      git add .
      git commit -m "Adding data file"
      git push
    EOT
  }
}